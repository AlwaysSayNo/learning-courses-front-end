<div class="container">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <form #lessonTemplateForm="ngForm" (ngSubmit)="saveLessonTemplate()">
        <div class="card">
          <div class="card-header bg-primary text-white">
            <h3 class="card-title">New lesson template</h3>
          </div>
          <div class="card-body">
            <div class="form-group">
              <input id="title"
                     type="text"
                     class="form-control"
                     placeholder="Title"
                     required
                     appDefaultTitleLength
                     name="title"
                     [(ngModel)]="template.title"
                     #templateTitle="ngModel"
              >
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateTitle.dirty && templateTitle.errors?.['required']">
              Please provide the title
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateTitle.dirty && templateTitle.errors?.['appCourseTitleLength']">
              {{templateTitle.errors?.['appCourseTitleLength']}}
            </div>

            <div class="form-group">
                <textarea id="description"
                          type="textarea"
                          class="form-control"
                          placeholder="Description"
                          rows="3"
                          required
                          appDefaultDescriptionLength
                          name="description"
                          [(ngModel)]="template.description"
                          #templateDescription="ngModel"
                ></textarea>
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateDescription.dirty && templateDescription.errors?.['required']">
              Please provide description
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateDescription.dirty && templateDescription.errors?.['appCourseDescriptionLength']">
              {{templateDescription.errors?.['appCourseDescriptionLength']}}
            </div>

            <div class="form-group">
              <input id="number"
                     type="number"
                     class="form-control"
                     placeholder="Number"
                     required
                     appNumberSegment="1, inf"
                     name="number"
                     [(ngModel)]="template.number"
                     #templateNumber="ngModel"
              >
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateNumber.dirty && templateNumber.errors?.['required']">
              Please provide number
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateNumber.dirty && templateNumber.errors?.['appNumberSegment']">
              {{templateNumber.errors?.['appNumberSegment']}}
            </div>

            <!--TODO Add validation for case where successMark > maxMark-->
            <div class="form-group">
              <input id="maxMark"
                     type="number"
                     class="form-control"
                     placeholder="Max mark"
                     required
                     appNumberSegment="1, inf"
                     name="maxMark"
                     [(ngModel)]="template.maxMark"
                     #templateMaxMark="ngModel"
              >
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateMaxMark.dirty && templateMaxMark.errors?.['required']">
              Please provide number
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateMaxMark.dirty && templateMaxMark.errors?.['appNumberSegment']">
              {{templateMaxMark.errors?.['appNumberSegment']}}
            </div>

            <div class="form-group">
              <input id="successMark"
                     type="number"
                     class="form-control"
                     placeholder="Success mark"
                     required
                     appNumberSegment="1, inf"
                     name="successMark"
                     [(ngModel)]="template.successMark"
                     #templateSuccessMark="ngModel"
              >
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateSuccessMark.dirty && templateSuccessMark.errors?.['required']">
              Please provide number
            </div>
            <div class="alert alert-danger"
                 *ngIf="templateSuccessMark.dirty && templateSuccessMark.errors?.['appNumberSegment']">
              {{templateSuccessMark.errors?.['appNumberSegment']}}
            </div>
          </div>

          <div class="card-footer">
            <button class="btn btn-primary" type="submit"
                    [disabled]="lessonTemplateForm.invalid"
            >Save
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
